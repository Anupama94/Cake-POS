{"version":3,"sources":["loginbox.test.js"],"names":["describe","wrapper","initialState","email","password","validate","emailState","passwordState","errorAlert","visible","message","beforeEach","it","expect","toMatchSnapshot","logInSpy","jest","spyOn","instance","forceUpdate","not","toHaveBeenCalled","find","simulate","toHaveBeenCalledTimes","state","toBe","setState","unmock","apiCall","require","userLogin","fn","Promise","reject"],"mappings":"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","sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { shallow } from 'enzyme';\nimport { LoginBox } from '../Login/LoginBox'\nimport { shallowToJson } from 'enzyme-to-json';\n\n\ndescribe(\"LoginBox Component\", () => {\n\n  let wrapper;\n  let initialState = {\n    email: '',\n    password: '',\n    validate: {\n      emailState: '',\n      passwordState: ''\n    },\n    errorAlert: {\n      visible: false,\n      message: ''\n    }\n  };\n\n  beforeEach(() => {\n    wrapper = shallow(<LoginBox />);\n  }\n  );\n\n  it(\"should render correctly\", () => {\n    expect(shallowToJson(wrapper)).toMatchSnapshot();\n  });\n\n\n  it('when submit button is clicked without username nor password emailState should be set to has-danger', () => {\n    const logInSpy = jest.spyOn(wrapper.instance(), \"submitLogin\");\n\n    wrapper.instance().forceUpdate();\n    expect(logInSpy).not.toHaveBeenCalled();\n    wrapper.find('button.login-btn').simulate('click');\n    expect(logInSpy).toHaveBeenCalledTimes(1);\n    expect(wrapper.state().validate.emailState).toBe(\"has-danger\");\n\n\n  });\n\n  it('when submit button is clicked with username but no password password-state should be set to has-danger', () => {\n    const logInSpy = jest.spyOn(wrapper.instance(), \"submitLogin\");\n    wrapper.setState({validate: {emailState: 'has-success'}});\n    wrapper.instance().forceUpdate();\n    expect(logInSpy).not.toHaveBeenCalled();\n    wrapper.find('button.login-btn').simulate('click');\n    expect(logInSpy).toHaveBeenCalledTimes(1);\n    expect(wrapper.state().validate.passwordState).toBe(\"has-danger\");\n\n\n  });\n\n\n  it('when submit button is clicked with password but no username email-state should be set to has-danger', () => {\n    const logInSpy = jest.spyOn(wrapper.instance(), \"submitLogin\");\n    wrapper.setState({validate: {passwordState: 'has-success'}});\n    wrapper.instance().forceUpdate();\n    expect(logInSpy).not.toHaveBeenCalled();\n    wrapper.find('button.login-btn').simulate('click');\n    expect(logInSpy).toHaveBeenCalledTimes(1);\n    expect(wrapper.state().validate.emailState).toBe(\"has-danger\");\n\n\n  });\n\n\n  it('when submit button is clicked with in valid username and password alert should be displayed', () => {\n    const logInSpy = jest.spyOn(wrapper.instance(), \"submitLogin\");\n    jest.unmock('./myModule.js');\n\n    const apiCall = require('../../apiCalls/callApi');\n    apiCall.userLogin = jest.fn(({}) => Promise.reject());\n    \n    wrapper.setState({validate: {emailState: 'has-success',passwordState: 'has-success'}});\n    wrapper.instance().forceUpdate();\n    expect(logInSpy).not.toHaveBeenCalled();\n    wrapper.find('button.login-btn').simulate('click');\n    expect(logInSpy).toHaveBeenCalledTimes(1);\n    expect(apiCall.userLogin).toHaveBeenCalled();\n\n\n  });\n\n\n\n});\n"]}