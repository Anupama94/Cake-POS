{"version":3,"sources":["services.test.js"],"names":["afterEach","mockAxios","reset","it","catchFn","jest","fn","thenFn","console","log","email","password","then","catch","expect","post","toHaveBeenCalledWith","responseObj","status","mockResponse","toHaveBeenCalledTimes","not","toHaveBeenCalled"],"mappings":";;;;AAAA;;AACA;;AAGAA,SAAS,CAAC,MAAM;AACZ;AACAC,yBAAUC,KAAV;AACH,CAHQ,CAAT;AAKAC,EAAE,CAAC,4EAAD,EAA+E,MAAM;AAEnF,MAAIC,OAAO,GAAGC,IAAI,CAACC,EAAL,EAAd;AAAA,MACIC,MAAM,GAAGF,IAAI,CAACC,EAAL,CAAQ,MAAME,OAAO,CAACC,GAAR,CAAY,WAAZ,CAAd,CADb,CAFmF,CAKnF;;AAGA,0BAAS,aAAT,EAAwB;AAACC,IAAAA,KAAK,EAAE,cAAR;AAAwBC,IAAAA,QAAQ,EAAE;AAAlC,GAAxB,EACKC,IADL,CACUL,MADV,EAEKM,KAFL,CAEWT,OAFX,EARmF,CAYnF;AACA;AACA;AACA;;AACAU,EAAAA,MAAM,CAACb,uBAAUc,IAAX,CAAN,CAAuBC,oBAAvB,CAA4C,mCAA5C,EAAiF;AAACN,IAAAA,KAAK,EAAE,cAAR;AAAwBC,IAAAA,QAAQ,EAAE;AAAlC,GAAjF,EAhBmF,CAkBnF;;AACA,MAAIM,WAAW,GAAG;AAAEC,IAAAA,MAAM,EAAE;AAAV,GAAlB;;AACAjB,yBAAUkB,YAAV,CAAuBF,WAAvB,EApBmF,CAsBnF;AACA;;;AACDH,EAAAA,MAAM,CAACP,MAAD,CAAN,CAAea,qBAAf,CAAqC,CAArC,EAxBoF,CA0BnF;;AACAN,EAAAA,MAAM,CAACV,OAAD,CAAN,CAAgBiB,GAAhB,CAAoBC,gBAApB;AACH,CA5BC,CAAF","sourcesContent":["import mockAxios from 'jest-mock-axios';\nimport { postCall } from '../../apiCalls/services';\n\n\nafterEach(() => {\n    // cleaning up the mess left behind the previous test\n    mockAxios.reset();\n});\n\nit('UppercaseProxy should get data from the server and convert it to UPPERCASE', () => {\n \n    let catchFn = jest.fn(),\n        thenFn = jest.fn(() => console.log(\"GETS HERE\"));\n \n    // using the component, which should make a server response\n    \n \n    postCall(\"users/login\", {email: \"abcd@123.com\", password: \"abc\"})\n        .then(thenFn)\n        .catch(catchFn);\n \n    // since `post` method is a spy, we can check if the server request was correct\n    // a) the correct method was used (post)\n    // b) went to the correct web service URL ('/web-service-url/')\n    // c) if the payload was correct ('client is saying hello!')\n    expect(mockAxios.post).toHaveBeenCalledWith(\"http://localhost:3001/users/login\", {email: \"abcd@123.com\", password: \"abc\"});\n \n    // simulating a server response\n    let responseObj = { status: '200 OK!' };\n    mockAxios.mockResponse(responseObj);\n \n    // checking the `then` spy has been called and if the\n    // response from the server was converted to upper case\n   expect(thenFn).toHaveBeenCalledTimes(1);\n \n    // catch should not have been called\n    expect(catchFn).not.toHaveBeenCalled();\n});"]}